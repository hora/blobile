(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"7wo0":function(e,t,n){"use strict";n.r(t),n.d(t,"SettingsPageModule",(function(){return j}));var i=n("ofXK"),o=n("3Pt+"),a=n("TEn/"),r=n("tyNb"),c=n("mrSG"),s=n("gcOT"),b=n("NldC"),l=n("fXoL"),d=n("J+wX"),u=n("EPm9"),g=n("BTjV"),h=n("tRi0");function f(e,t){if(1&e&&(l.Nb(0,"ion-item"),l.Nb(1,"ion-label",11),l.jc(2),l.Mb(),l.Lb(3,"ion-progress-bar",12),l.Mb()),2&e){const e=l.Xb(2);l.zb(2),l.lc("",e.updateService.phase,":"),l.zb(1),l.bc("value",e.updateService.percentDone)}}function p(e,t){if(1&e){const e=l.Ob();l.Nb(0,"ion-item",13),l.Nb(1,"ion-label",5),l.jc(2,"You have an update ready."),l.Mb(),l.Nb(3,"ion-button",14),l.Ub("click",(function(){return l.dc(e),l.Xb(2).updateService.reload()})),l.jc(4,"Reload"),l.Mb(),l.Mb()}}function m(e,t){if(1&e){const e=l.Ob();l.Nb(0,"span"),l.Nb(1,"ion-list-header",4),l.Nb(2,"h3"),l.jc(3,"Automatic Updates"),l.Mb(),l.Mb(),l.Nb(4,"ion-item"),l.Nb(5,"ion-label",5),l.jc(6,"Receive beta updates?"),l.Mb(),l.Nb(7,"ion-toggle",6),l.Ub("ionChange",(function(){return l.dc(e),l.Xb().setBeta()}))("ngModelChange",(function(t){return l.dc(e),l.Xb().betaEnabled=t})),l.Mb(),l.Mb(),l.ic(8,f,4,2,"ion-item",3),l.ic(9,p,5,0,"ion-item",10),l.Nb(10,"ion-list-header",4),l.Nb(11,"h3"),l.jc(12,"Disable Sleep"),l.Mb(),l.Mb(),l.Nb(13,"ion-item"),l.Nb(14,"ion-label",5),l.jc(15,"Disable sleep while games are active?"),l.Mb(),l.Nb(16,"ion-toggle",6),l.Ub("ionChange",(function(){return l.dc(e),l.Xb().setDisableSleep()}))("ngModelChange",(function(t){return l.dc(e),l.Xb().current.disableSleep=t})),l.Mb(),l.Mb(),l.Mb()}if(2&e){const e=l.Xb();l.zb(7),l.ac("ngModel",e.betaEnabled),l.zb(1),l.ac("ngIf",e.updateService.updateAvailable&&!e.updateService.updateReady&&e.updateService.percentDone),l.zb(1),l.ac("ngIf",e.updateService.updateReady),l.zb(7),l.ac("ngModel",e.current.disableSleep)}}function M(e,t){if(1&e&&(l.Nb(0,"ion-select-option",12),l.jc(1),l.Mb()),2&e){const e=t.$implicit;l.ac("value",e.id),l.zb(1),l.kc(e.fullName)}}const{Device:v}=s.a,N=[{path:"",component:(()=>{class e{constructor(e,t,n,i,o){this.database=e,this.deploy=t,this.platform=n,this.settings=i,this.updateService=o,this.current={},this.betaEnabled=!1,this.devicePlatform="web",this.teamOptions={header:"Choose Your Team"},this.teams=[],this.id=b.a.trackById}ngOnInit(){return Object(c.a)(this,void 0,void 0,(function*(){yield this.platform.ready(),console.debug("SettingsPage.ngOnInit()");try{const e=yield v.getInfo();this.devicePlatform=e.platform,console.debug("SettingsPage.ngOnInit(): platform="+this.devicePlatform)}catch(e){console.error("SettingsPage.ngOnInit(): failed to get device info:",e)}if("web"!==this.devicePlatform)try{const e=yield this.deploy.getConfiguration();this.betaEnabled="beta"===e.channel.toLowerCase(),console.debug("SettingsPage.ngOnInit(): betaEnabled="+this.betaEnabled)}catch(e){console.error("SettingsPage.ngOnInit(): failed to get deploy configuration:",e)}this.teams=(yield this.database.teams()).sort((e,t)=>e.fullName<t.fullName?-1:e.fullName>t.fullName?1:0),this.current=yield this.settings.getAll(),console.debug("SettingsPage.onInit(): current settings=",this.current)}))}isBeta(){return Object(c.a)(this,void 0,void 0,(function*(){return"beta"===(yield this.deploy.getConfiguration()).channel.toLowerCase()}))}setBeta(){return Object(c.a)(this,void 0,void 0,(function*(){return yield this.deploy.configure({channel:this.betaEnabled?"Beta":"Stable"}),yield this.isBeta()}))}getTeamName(e){const t=this.teams.find(t=>t.id===e);return t?t.fullName:""}setDisableSleep(){return Object(c.a)(this,void 0,void 0,(function*(){return yield this.settings.setDisableSleep(this.current.disableSleep)}))}setReduceMotion(){return Object(c.a)(this,void 0,void 0,(function*(){return yield this.settings.setReduceMotion(this.current.reduceMotion)}))}setFavoriteTeam(e){return Object(c.a)(this,void 0,void 0,(function*(){const t=this.teams.find(t=>t.id===e.value);this.settings.setFavoriteTeam(null==t?void 0:t.id)}))}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(d.a),l.Kb(u.a),l.Kb(a.T),l.Kb(g.a),l.Kb(h.a))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-settings"]],decls:27,vars:8,consts:[[3,"translucent"],["color","primary"],["lines","none",1,"ion-text-wrap"],[4,"ngIf"],["lines","full"],[1,"ion-text-wrap"],["slot","end",3,"ngModel","ionChange","ngModelChange"],["id","bl-team-selector"],["interface","action-sheet","okText","Choose","cancelText","Cancel",1,"ion-text-wrap",3,"interfaceOptions","value","ngModel","ionChange","ngModelChange"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["color","danger",4,"ngIf"],["slot","start"],[3,"value"],["color","danger"],["slot","end","color","light",3,"click"]],template:function(e,t){1&e&&(l.Nb(0,"ion-header",0),l.Nb(1,"ion-toolbar",1),l.Nb(2,"ion-title"),l.jc(3,"Slettings"),l.Mb(),l.Mb(),l.Mb(),l.Nb(4,"ion-content"),l.Nb(5,"ion-list",2),l.ic(6,m,17,4,"span",3),l.Nb(7,"ion-list-header",4),l.Nb(8,"h3"),l.jc(9,"Reduce Motion"),l.Mb(),l.Mb(),l.Nb(10,"ion-item"),l.Nb(11,"ion-label",5),l.jc(12,"Reduce motion in effects?"),l.Mb(),l.Nb(13,"ion-toggle",6),l.Ub("ionChange",(function(){return t.setReduceMotion()}))("ngModelChange",(function(e){return t.current.reduceMotion=e})),l.Mb(),l.Mb(),l.Nb(14,"ion-list-header",4),l.Nb(15,"h3"),l.jc(16,"Teams"),l.Mb(),l.Mb(),l.Nb(17,"ion-item",7),l.Nb(18,"ion-label",5),l.Nb(19,"ion-label"),l.Nb(20,"h4"),l.jc(21,"Choose Your Team:"),l.Mb(),l.Mb(),l.Nb(22,"ion-note"),l.jc(23,"Your team is first in the live feed."),l.Mb(),l.Mb(),l.Mb(),l.Nb(24,"ion-item"),l.Nb(25,"ion-select",8),l.Ub("ionChange",(function(e){return t.setFavoriteTeam(e.detail)}))("ngModelChange",(function(e){return t.current.favoriteTeam=e})),l.ic(26,M,2,2,"ion-select-option",9),l.Mb(),l.Mb(),l.Mb(),l.Mb()),2&e&&(l.ac("translucent",!0),l.zb(6),l.ac("ngIf","web"!==t.devicePlatform),l.zb(7),l.ac("ngModel",t.current.reduceMotion),l.zb(12),l.ac("interfaceOptions",t.teamOptions)("value",t.current.favoriteTeam)("ngModel",t.current.favoriteTeam),l.zb(1),l.ac("ngForOf",t.teams)("ngForTrackBy",t.id))},directives:[a.p,a.O,a.M,a.l,a.v,i.i,a.w,a.r,a.u,a.N,a.b,o.d,o.e,a.x,a.G,a.U,i.h,a.y,a.e,a.H],styles:[""]}),e})()}];let y=(()=>{class e{}return e.\u0275mod=l.Ib({type:e}),e.\u0275inj=l.Hb({factory:function(t){return new(t||e)},imports:[[r.j.forChild(N)],r.j]}),e})(),j=(()=>{class e{}return e.\u0275mod=l.Ib({type:e}),e.\u0275inj=l.Hb({factory:function(t){return new(t||e)},imports:[[i.b,o.a,a.P,y]]}),e})()}}]);