(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"7wo0":function(e,t,n){"use strict";n.r(t),n.d(t,"SettingsPageModule",(function(){return S}));var i=n("ofXK"),a=n("3Pt+"),o=n("TEn/"),s=n("tyNb"),l=n("mrSG"),b=n("gcOT"),c=n("fXoL"),r=n("J+wX"),d=n("EPm9"),u=n("BTjV"),g=n("tRi0");function h(e,t){if(1&e&&(c.Mb(0,"ion-item"),c.Mb(1,"ion-label",10),c.jc(2),c.Lb(),c.Kb(3,"ion-progress-bar",11),c.Lb()),2&e){const e=c.Xb(2);c.zb(2),c.lc("Update ",e.updateService.phase,":"),c.zb(1),c.bc("value",e.updateService.percentDone)}}function f(e,t){if(1&e){const e=c.Nb();c.Mb(0,"ion-item",12),c.Mb(1,"ion-label",5),c.jc(2,"You have an update ready."),c.Lb(),c.Mb(3,"ion-button",13),c.Ub("click",(function(){return c.dc(e),c.Xb(2).updateService.reload()})),c.jc(4,"Reload"),c.Lb(),c.Lb()}}function p(e,t){if(1&e){const e=c.Nb();c.Mb(0,"span"),c.Mb(1,"ion-list-header",4),c.Mb(2,"h3"),c.jc(3,"Automatic Updates"),c.Lb(),c.Lb(),c.Mb(4,"ion-item"),c.Mb(5,"ion-label",5),c.jc(6,"Receive beta updates?"),c.Lb(),c.Mb(7,"ion-toggle",8),c.Ub("ionChange",(function(){return c.dc(e),c.Xb().setBeta()}))("ngModelChange",(function(t){return c.dc(e),c.Xb().betaEnabled=t})),c.Lb(),c.Lb(),c.ic(8,h,4,2,"ion-item",3),c.ic(9,f,5,0,"ion-item",9),c.Mb(10,"ion-list-header",4),c.Mb(11,"h3"),c.jc(12,"Disable Sleep"),c.Lb(),c.Lb(),c.Mb(13,"ion-item"),c.Mb(14,"ion-label",5),c.jc(15,"Disable sleep while games are active?"),c.Lb(),c.Mb(16,"ion-toggle",8),c.Ub("ionChange",(function(){return c.dc(e),c.Xb().setDisableSleep()}))("ngModelChange",(function(t){return c.dc(e),c.Xb().disableSleep=t})),c.Lb(),c.Lb(),c.Lb()}if(2&e){const e=c.Xb();c.zb(7),c.ac("ngModel",e.betaEnabled),c.zb(1),c.ac("ngIf",e.updateService.updateAvailable&&!e.updateService.updateReady&&e.updateService.percentDone),c.zb(1),c.ac("ngIf",e.updateService.updateReady),c.zb(7),c.ac("ngModel",e.disableSleep)}}function m(e,t){if(1&e&&(c.Mb(0,"ion-select-option",11),c.jc(1),c.Lb()),2&e){const e=t.$implicit;c.ac("value",e.id),c.zb(1),c.kc(e.fullName)}}const{Device:v}=b.a,M=[{path:"",component:(()=>{class e{constructor(e,t,n,i){this.database=e,this.deploy=t,this.settings=n,this.updateService=i,this.betaEnabled=!1,this.disableSleep=!1,this.platform="web",this.teamOptions={header:"Choose Your Team"},this.teams=[]}ngOnInit(){return Object(l.a)(this,void 0,void 0,(function*(){console.debug("SettingsPage.ngOnInit()");try{const e=yield v.getInfo();this.platform=e.platform,console.debug("SettingsPage.ngOnInit(): platform="+this.platform)}catch(e){console.error("SettingsPage.ngOnInit(): failed to get device info:",e)}if("web"!==this.platform)try{const e=yield this.deploy.getConfiguration();this.betaEnabled="beta"===e.channel.toLowerCase(),console.debug("SettingsPage.ngOnInit(): betaEnabled="+this.betaEnabled)}catch(e){console.error("SettingsPage.ngOnInit(): failed to get deploy configuration:",e)}yield this.settings.ready,this.disableSleep=this.settings.disableSleep(),console.debug("SettingsPage.ngOnInit(): disableSleep="+this.disableSleep),this.teams=(yield this.database.teams()).sort((e,t)=>e.fullName<t.fullName?-1:e.fullName>t.fullName?1:0),console.debug("SettingsPage.ngOnInit(): teams=",this.teams),this.favoriteTeam=this.settings.favoriteTeam(),console.debug("SettingsPage.ngOnInit(): favoriteTeam="+this.favoriteTeam)}))}isBeta(){return Object(l.a)(this,void 0,void 0,(function*(){return"beta"===(yield this.deploy.getConfiguration()).channel.toLowerCase()}))}setBeta(){return Object(l.a)(this,void 0,void 0,(function*(){return yield this.deploy.configure({channel:this.betaEnabled?"Beta":"Stable"}),yield this.isBeta()}))}setDisableSleep(){return Object(l.a)(this,void 0,void 0,(function*(){return yield this.settings.setDisableSleep(this.disableSleep)}))}setFavoriteTeam(e){return Object(l.a)(this,void 0,void 0,(function*(){const t=this.teams.find(t=>t.id===e.value);this.settings.setFavoriteTeam(null==t?void 0:t.id)}))}}return e.\u0275fac=function(t){return new(t||e)(c.Jb(r.a),c.Jb(d.a),c.Jb(u.a),c.Jb(g.a))},e.\u0275cmp=c.Db({type:e,selectors:[["app-settings"]],decls:18,vars:5,consts:[[3,"translucent"],["color","primary"],["lines","none",1,"ion-text-wrap"],[4,"ngIf"],["lines","full"],[1,"ion-text-wrap"],["interface","action-sheet","okText","Choose","cancelText","Cancel",1,"ion-text-wrap",3,"interfaceOptions","ngModel","ionChange","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["slot","end",3,"ngModel","ionChange","ngModelChange"],["color","danger",4,"ngIf"],["slot","start"],[3,"value"],["color","danger"],["slot","end","color","light",3,"click"]],template:function(e,t){1&e&&(c.Mb(0,"ion-header",0),c.Mb(1,"ion-toolbar",1),c.Mb(2,"ion-title"),c.jc(3,"Slettings"),c.Lb(),c.Lb(),c.Lb(),c.Mb(4,"ion-content"),c.Mb(5,"ion-list",2),c.ic(6,p,17,4,"span",3),c.Mb(7,"ion-list-header",4),c.Mb(8,"h3"),c.jc(9,"Teams"),c.Lb(),c.Lb(),c.Mb(10,"ion-item"),c.Mb(11,"ion-label",5),c.Mb(12,"h4"),c.jc(13,"Choose Your Team:"),c.Lb(),c.Mb(14,"ion-note"),c.jc(15,"Your team is first in the live feed."),c.Lb(),c.Lb(),c.Mb(16,"ion-select",6),c.Ub("ionChange",(function(e){return t.setFavoriteTeam(e.detail)}))("ngModelChange",(function(e){return t.favoriteTeam=e})),c.ic(17,m,2,2,"ion-select-option",7),c.Lb(),c.Lb(),c.Lb(),c.Lb()),2&e&&(c.ac("translucent",!0),c.zb(6),c.ac("ngIf","web"!==t.platform),c.zb(10),c.ac("interfaceOptions",t.teamOptions)("ngModel",t.favoriteTeam),c.zb(1),c.ac("ngForOf",t.teams))},directives:[o.p,o.O,o.M,o.l,o.v,i.i,o.w,o.r,o.u,o.x,o.G,o.U,a.d,a.e,i.h,o.N,o.b,o.y,o.e,o.H],styles:[""]}),e})()}];let L=(()=>{class e{}return e.\u0275mod=c.Hb({type:e}),e.\u0275inj=c.Gb({factory:function(t){return new(t||e)},imports:[[s.j.forChild(M)],s.j]}),e})(),S=(()=>{class e{}return e.\u0275mod=c.Hb({type:e}),e.\u0275inj=c.Gb({factory:function(t){return new(t||e)},imports:[[i.b,a.a,o.P,L]]}),e})()}}]);