!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"7wo0":function(n,r,i){"use strict";i.r(r),i.d(r,"SettingsPageModule",(function(){return C}));var a=i("ofXK"),o=i("3Pt+"),c=i("TEn/"),s=i("tyNb"),u=i("mrSG"),b=i("gcOT"),l=i("NldC"),d=i("fXoL"),f=i("J+wX"),g=i("EPm9"),h=i("BTjV"),p=i("tRi0");function v(e,t){if(1&e&&(d.Nb(0,"ion-item"),d.Nb(1,"ion-label",8),d.jc(2),d.Mb(),d.Lb(3,"ion-progress-bar",12),d.Mb()),2&e){var n=d.Xb(2);d.zb(2),d.lc("",n.updateService.phase,":"),d.zb(1),d.bc("value",n.updateService.percentDone)}}function m(e,t){if(1&e){var n=d.Ob();d.Nb(0,"ion-item",13),d.Nb(1,"ion-label",5),d.jc(2,"You have an update ready."),d.Mb(),d.Nb(3,"ion-button",14),d.Ub("click",(function(){return d.dc(n),d.Xb(2).updateService.reload()})),d.jc(4,"Reload"),d.Mb(),d.Mb()}}function M(e,t){if(1&e){var n=d.Ob();d.Nb(0,"span"),d.Nb(1,"ion-list-header",4),d.Nb(2,"h3"),d.jc(3,"Automatic Updates"),d.Mb(),d.Mb(),d.Nb(4,"ion-item"),d.Nb(5,"ion-label",5),d.jc(6,"Receive beta updates?"),d.Mb(),d.Nb(7,"ion-toggle",6),d.Ub("ionChange",(function(){return d.dc(n),d.Xb().setBeta()}))("ngModelChange",(function(e){return d.dc(n),d.Xb().betaEnabled=e})),d.Mb(),d.Mb(),d.ic(8,v,4,2,"ion-item",3),d.ic(9,m,5,0,"ion-item",11),d.Nb(10,"ion-list-header",4),d.Nb(11,"h3"),d.jc(12,"Disable Sleep"),d.Mb(),d.Mb(),d.Nb(13,"ion-item"),d.Nb(14,"ion-label",5),d.jc(15,"Disable sleep while games are active?"),d.Mb(),d.Nb(16,"ion-toggle",6),d.Ub("ionChange",(function(){return d.dc(n),d.Xb().setDisableSleep()}))("ngModelChange",(function(e){return d.dc(n),d.Xb().current.disableSleep=e})),d.Mb(),d.Mb(),d.Mb()}if(2&e){var r=d.Xb();d.zb(7),d.ac("ngModel",r.betaEnabled),d.zb(1),d.ac("ngIf",r.updateService.updateAvailable&&!r.updateService.updateReady&&r.updateService.percentDone),d.zb(1),d.ac("ngIf",r.updateService.updateReady),d.zb(7),d.ac("ngModel",r.current.disableSleep)}}function N(e,t){if(1&e&&(d.Nb(0,"ion-select-option",12),d.jc(1),d.Mb()),2&e){var n=t.$implicit;d.ac("value",n.id),d.zb(1),d.kc(n.fullName)}}var w,y,j,k=b.a.Device,x=[{path:"",component:(w=function(){function n(t,r,i,a,o){e(this,n),this.database=t,this.deploy=r,this.platform=i,this.settings=a,this.updateService=o,this.current={},this.betaEnabled=!1,this.devicePlatform="web",this.teamOptions={header:"Choose Your Team"},this.teams=[],this.id=l.a.trackById}var r,i,a;return r=n,(i=[{key:"ngOnInit",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.platform.ready();case 2:return console.debug("SettingsPage.ngOnInit()"),e.prev=3,e.next=6,k.getInfo();case 6:t=e.sent,this.devicePlatform=t.platform,console.debug("SettingsPage.ngOnInit(): platform="+this.devicePlatform),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error("SettingsPage.ngOnInit(): failed to get device info:",e.t0);case 13:if("web"===this.devicePlatform){e.next=24;break}return e.prev=14,e.next=17,this.deploy.getConfiguration();case 17:n=e.sent,this.betaEnabled="beta"===n.channel.toLowerCase(),console.debug("SettingsPage.ngOnInit(): betaEnabled="+this.betaEnabled),e.next=24;break;case 21:e.prev=21,e.t1=e.catch(14),console.error("SettingsPage.ngOnInit(): failed to get deploy configuration:",e.t1);case 24:return e.next=26,this.database.teams();case 26:return this.teams=e.sent.sort((function(e,t){return e.fullName<t.fullName?-1:e.fullName>t.fullName?1:0})),e.next=29,this.settings.getAll();case 29:this.current=e.sent,console.debug("SettingsPage.onInit(): current settings=",this.current);case 31:case"end":return e.stop()}}),e,this,[[3,10],[14,21]])})))}},{key:"isBeta",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.deploy.getConfiguration();case 2:return e.t0=e.sent.channel.toLowerCase(),e.abrupt("return","beta"===e.t0);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"setBeta",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.deploy.configure({channel:this.betaEnabled?"Beta":"Stable"});case 2:return e.next=4,this.isBeta();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"getTeamName",value:function(e){var t=this.teams.find((function(t){return t.id===e}));return t?t.fullName:""}},{key:"setDisableSleep",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.settings.setDisableSleep(this.current.disableSleep);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"setReduceMotion",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.settings.setReduceMotion(this.current.reduceMotion);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"setFavoriteTeam",value:function(e){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=this.teams.find((function(t){return t.id===e.value})),this.settings.setFavoriteTeam(null==n?void 0:n.id);case 2:case"end":return t.stop()}}),t,this)})))}}])&&t(r.prototype,i),a&&t(r,a),n}(),w.\u0275fac=function(e){return new(e||w)(d.Kb(f.a),d.Kb(g.a),d.Kb(c.T),d.Kb(h.a),d.Kb(p.a))},w.\u0275cmp=d.Eb({type:w,selectors:[["app-settings"]],decls:26,vars:8,consts:[[3,"translucent"],["color","primary"],["lines","none",1,"ion-text-wrap"],[4,"ngIf"],["lines","full"],[1,"ion-text-wrap"],["slot","end",3,"ngModel","ionChange","ngModelChange"],["id","bl-team-selector"],["slot","start"],["interface","action-sheet","okText","Choose","cancelText","Cancel",1,"ion-text-wrap",3,"interfaceOptions","value","ngModel","ionChange","ngModelChange"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["color","danger",4,"ngIf"],[3,"value"],["color","danger"],["slot","end","color","light",3,"click"]],template:function(e,t){1&e&&(d.Nb(0,"ion-header",0),d.Nb(1,"ion-toolbar",1),d.Nb(2,"ion-title"),d.jc(3,"Slettings"),d.Mb(),d.Mb(),d.Mb(),d.Nb(4,"ion-content"),d.Nb(5,"ion-list",2),d.ic(6,M,17,4,"span",3),d.Nb(7,"ion-list-header",4),d.Nb(8,"h3"),d.jc(9,"Reduce Motion"),d.Mb(),d.Mb(),d.Nb(10,"ion-item"),d.Nb(11,"ion-label",5),d.jc(12,"Reduce motion in effects?"),d.Mb(),d.Nb(13,"ion-toggle",6),d.Ub("ionChange",(function(){return t.setReduceMotion()}))("ngModelChange",(function(e){return t.current.reduceMotion=e})),d.Mb(),d.Mb(),d.Nb(14,"ion-list-header",4),d.Nb(15,"h3"),d.jc(16,"Teams"),d.Mb(),d.Mb(),d.Nb(17,"ion-item",7),d.Nb(18,"ion-label",5),d.Nb(19,"ion-label",8),d.Nb(20,"h4"),d.jc(21,"Choose Your Team:"),d.Mb(),d.Mb(),d.Nb(22,"ion-note"),d.jc(23,"Your team is first in the live feed."),d.Mb(),d.Mb(),d.Nb(24,"ion-select",9),d.Ub("ionChange",(function(e){return t.setFavoriteTeam(e.detail)}))("ngModelChange",(function(e){return t.current.favoriteTeam=e})),d.ic(25,N,2,2,"ion-select-option",10),d.Mb(),d.Mb(),d.Mb(),d.Mb()),2&e&&(d.ac("translucent",!0),d.zb(6),d.ac("ngIf","web"!==t.devicePlatform),d.zb(7),d.ac("ngModel",t.current.reduceMotion),d.zb(11),d.ac("interfaceOptions",t.teamOptions)("value",t.current.favoriteTeam)("ngModel",t.current.favoriteTeam),d.zb(1),d.ac("ngForOf",t.teams)("ngForTrackBy",t.id))},directives:[c.p,c.O,c.M,c.l,c.v,a.i,c.w,c.r,c.u,c.N,c.b,o.d,o.e,c.x,c.G,c.U,a.h,c.y,c.e,c.H],styles:[""]}),w)}],S=((j=function t(){e(this,t)}).\u0275mod=d.Ib({type:j}),j.\u0275inj=d.Hb({factory:function(e){return new(e||j)},imports:[[s.j.forChild(x)],s.j]}),j),C=((y=function t(){e(this,t)}).\u0275mod=d.Ib({type:y}),y.\u0275inj=d.Hb({factory:function(e){return new(e||y)},imports:[[a.b,o.a,c.P,S]]}),y)}}])}();