!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"7wo0":function(n,i,a){"use strict";a.r(i),a.d(i,"SettingsPageModule",(function(){return x}));var r=a("ofXK"),o=a("3Pt+"),s=a("TEn/"),c=a("tyNb"),b=a("mrSG"),l=a("gcOT"),u=a("fXoL"),d=a("J+wX"),f=a("EPm9"),g=a("BTjV"),p=a("tRi0");function h(e,t){if(1&e&&(u.Mb(0,"ion-item"),u.Mb(1,"ion-label",10),u.jc(2),u.Lb(),u.Kb(3,"ion-progress-bar",11),u.Lb()),2&e){var n=u.Xb(2);u.zb(2),u.lc("Update ",n.updateService.phase,":"),u.zb(1),u.bc("value",n.updateService.percentDone)}}function m(e,t){if(1&e){var n=u.Nb();u.Mb(0,"ion-item",12),u.Mb(1,"ion-label",5),u.jc(2,"You have an update ready."),u.Lb(),u.Mb(3,"ion-button",13),u.Ub("click",(function(){return u.dc(n),u.Xb(2).updateService.reload()})),u.jc(4,"Reload"),u.Lb(),u.Lb()}}function v(e,t){if(1&e){var n=u.Nb();u.Mb(0,"span"),u.Mb(1,"ion-list-header",4),u.Mb(2,"h3"),u.jc(3,"Automatic Updates"),u.Lb(),u.Lb(),u.Mb(4,"ion-item"),u.Mb(5,"ion-label",5),u.jc(6,"Receive beta updates?"),u.Lb(),u.Mb(7,"ion-toggle",8),u.Ub("ionChange",(function(){return u.dc(n),u.Xb().setBeta()}))("ngModelChange",(function(e){return u.dc(n),u.Xb().betaEnabled=e})),u.Lb(),u.Lb(),u.ic(8,h,4,2,"ion-item",3),u.ic(9,m,5,0,"ion-item",9),u.Mb(10,"ion-list-header",4),u.Mb(11,"h3"),u.jc(12,"Disable Sleep"),u.Lb(),u.Lb(),u.Mb(13,"ion-item"),u.Mb(14,"ion-label",5),u.jc(15,"Disable sleep while games are active?"),u.Lb(),u.Mb(16,"ion-toggle",8),u.Ub("ionChange",(function(){return u.dc(n),u.Xb().setDisableSleep()}))("ngModelChange",(function(e){return u.dc(n),u.Xb().disableSleep=e})),u.Lb(),u.Lb(),u.Lb()}if(2&e){var i=u.Xb();u.zb(7),u.ac("ngModel",i.betaEnabled),u.zb(1),u.ac("ngIf",i.updateService.updateAvailable&&!i.updateService.updateReady&&i.updateService.percentDone),u.zb(1),u.ac("ngIf",i.updateService.updateReady),u.zb(7),u.ac("ngModel",i.disableSleep)}}function M(e,t){if(1&e&&(u.Mb(0,"ion-select-option",11),u.jc(1),u.Lb()),2&e){var n=t.$implicit;u.ac("value",n.id),u.zb(1),u.kc(n.fullName)}}var w,L,S,y=l.a.Device,j=[{path:"",component:(w=function(){function n(t,i,a,r){e(this,n),this.database=t,this.deploy=i,this.settings=a,this.updateService=r,this.betaEnabled=!1,this.disableSleep=!1,this.platform="web",this.teamOptions={header:"Choose Your Team"},this.teams=[]}var i,a,r;return i=n,(a=[{key:"ngOnInit",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.debug("SettingsPage.ngOnInit()"),e.prev=1,e.next=4,y.getInfo();case 4:t=e.sent,this.platform=t.platform,console.debug("SettingsPage.ngOnInit(): platform="+this.platform),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("SettingsPage.ngOnInit(): failed to get device info:",e.t0);case 11:if("web"===this.platform){e.next=22;break}return e.prev=12,e.next=15,this.deploy.getConfiguration();case 15:n=e.sent,this.betaEnabled="beta"===n.channel.toLowerCase(),console.debug("SettingsPage.ngOnInit(): betaEnabled="+this.betaEnabled),e.next=22;break;case 19:e.prev=19,e.t1=e.catch(12),console.error("SettingsPage.ngOnInit(): failed to get deploy configuration:",e.t1);case 22:return e.next=24,this.settings.ready;case 24:return this.disableSleep=this.settings.disableSleep(),console.debug("SettingsPage.ngOnInit(): disableSleep="+this.disableSleep),e.next=28,this.database.teams();case 28:this.teams=e.sent.sort((function(e,t){return e.fullName<t.fullName?-1:e.fullName>t.fullName?1:0})),console.debug("SettingsPage.ngOnInit(): teams=",this.teams),this.favoriteTeam=this.settings.favoriteTeam(),console.debug("SettingsPage.ngOnInit(): favoriteTeam="+this.favoriteTeam);case 32:case"end":return e.stop()}}),e,this,[[1,8],[12,19]])})))}},{key:"isBeta",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.deploy.getConfiguration();case 2:return e.t0=e.sent.channel.toLowerCase(),e.abrupt("return","beta"===e.t0);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"setBeta",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.deploy.configure({channel:this.betaEnabled?"Beta":"Stable"});case 2:return e.next=4,this.isBeta();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"setDisableSleep",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.settings.setDisableSleep(this.disableSleep);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"setFavoriteTeam",value:function(e){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=this.teams.find((function(t){return t.id===e.value})),this.settings.setFavoriteTeam(null==n?void 0:n.id);case 2:case"end":return t.stop()}}),t,this)})))}}])&&t(i.prototype,a),r&&t(i,r),n}(),w.\u0275fac=function(e){return new(e||w)(u.Jb(d.a),u.Jb(f.a),u.Jb(g.a),u.Jb(p.a))},w.\u0275cmp=u.Db({type:w,selectors:[["app-settings"]],decls:18,vars:5,consts:[[3,"translucent"],["color","primary"],["lines","none",1,"ion-text-wrap"],[4,"ngIf"],["lines","full"],[1,"ion-text-wrap"],["interface","action-sheet","okText","Choose","cancelText","Cancel",1,"ion-text-wrap",3,"interfaceOptions","ngModel","ionChange","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["slot","end",3,"ngModel","ionChange","ngModelChange"],["color","danger",4,"ngIf"],["slot","start"],[3,"value"],["color","danger"],["slot","end","color","light",3,"click"]],template:function(e,t){1&e&&(u.Mb(0,"ion-header",0),u.Mb(1,"ion-toolbar",1),u.Mb(2,"ion-title"),u.jc(3,"Slettings"),u.Lb(),u.Lb(),u.Lb(),u.Mb(4,"ion-content"),u.Mb(5,"ion-list",2),u.ic(6,v,17,4,"span",3),u.Mb(7,"ion-list-header",4),u.Mb(8,"h3"),u.jc(9,"Teams"),u.Lb(),u.Lb(),u.Mb(10,"ion-item"),u.Mb(11,"ion-label",5),u.Mb(12,"h4"),u.jc(13,"Choose Your Team:"),u.Lb(),u.Mb(14,"ion-note"),u.jc(15,"Your team is first in the live feed."),u.Lb(),u.Lb(),u.Mb(16,"ion-select",6),u.Ub("ionChange",(function(e){return t.setFavoriteTeam(e.detail)}))("ngModelChange",(function(e){return t.favoriteTeam=e})),u.ic(17,M,2,2,"ion-select-option",7),u.Lb(),u.Lb(),u.Lb(),u.Lb()),2&e&&(u.ac("translucent",!0),u.zb(6),u.ac("ngIf","web"!==t.platform),u.zb(10),u.ac("interfaceOptions",t.teamOptions)("ngModel",t.favoriteTeam),u.zb(1),u.ac("ngForOf",t.teams))},directives:[s.p,s.O,s.M,s.l,s.v,r.i,s.w,s.r,s.u,s.x,s.G,s.U,o.d,o.e,r.h,s.N,s.b,s.y,s.e,s.H],styles:[""]}),w)}],O=((S=function t(){e(this,t)}).\u0275mod=u.Hb({type:S}),S.\u0275inj=u.Gb({factory:function(e){return new(e||S)},imports:[[c.j.forChild(j)],c.j]}),S),x=((L=function t(){e(this,t)}).\u0275mod=u.Hb({type:L}),L.\u0275inj=u.Gb({factory:function(e){return new(e||L)},imports:[[r.b,o.a,s.P,O]]}),L)}}])}();