(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"2c9M":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return c})),n.d(e,"e",(function(){return a}));const i={getEngine(){const t=window;return t.TapticEngine||t.Capacitor&&t.Capacitor.isPluginAvailable("Haptics")&&t.Capacitor.Plugins.Haptics},available(){return!!this.getEngine()},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(t){const e=this.getEngine();if(!e)return;const n=this.isCapacitor()?t.style.toUpperCase():t.style;e.impact({style:n})},notification(t){const e=this.getEngine();if(!e)return;const n=this.isCapacitor()?t.style.toUpperCase():t.style;e.notification({style:n})},selection(){this.impact({style:"light"})},selectionStart(){const t=this.getEngine();t&&(this.isCapacitor()?t.selectionStart():t.gestureSelectionStart())},selectionChanged(){const t=this.getEngine();t&&(this.isCapacitor()?t.selectionChanged():t.gestureSelectionChanged())},selectionEnd(){const t=this.getEngine();t&&(this.isCapacitor()?t.selectionEnd():t.gestureSelectionEnd())}},s=()=>{i.selection()},o=()=>{i.selectionStart()},r=()=>{i.selectionChanged()},a=()=>{i.selectionEnd()},c=t=>{i.impact(t)}},"6i10":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i={bubbles:{dur:1e3,circles:9,fn:(t,e,n)=>{const i=t*e/n-t+"ms",s=2*Math.PI*e/n;return{r:5,style:{top:9*Math.sin(s)+"px",left:9*Math.cos(s)+"px","animation-delay":i}}}},circles:{dur:1e3,circles:8,fn:(t,e,n)=>{const i=e/n,s=t*i-t+"ms",o=2*Math.PI*i;return{r:5,style:{top:9*Math.sin(o)+"px",left:9*Math.cos(o)+"px","animation-delay":s}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(t,e)=>({r:6,style:{left:9-9*e+"px","animation-delay":-110*e+"ms"}})},lines:{dur:1e3,lines:12,fn:(t,e,n)=>({y1:17,y2:29,style:{transform:`rotate(${30*e+(e<6?180:-180)}deg)`,"animation-delay":t*e/n-t+"ms"}})},"lines-small":{dur:1e3,lines:12,fn:(t,e,n)=>({y1:12,y2:20,style:{transform:`rotate(${30*e+(e<6?180:-180)}deg)`,"animation-delay":t*e/n-t+"ms"}})}}},BTjV:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("mrSG"),s=n("gcOT"),o=n("fXoL");const{Storage:r}=s.a;let a=(()=>{class t{constructor(){this.settings={segment:"all",favorites:{},disableSleep:!1,favoriteTeam:void 0},console.debug("SettingsService instantiated."),this.ready=this.init()}init(){return Object(i.a)(this,void 0,void 0,(function*(){console.debug("SettingsService initializing."),this.assertSettings();try{const t=yield r.get({key:"favorites"});t&&void 0!==t.value&&(this.settings.favorites=JSON.parse(t.value));const e=yield r.get({key:"segment"});this.settings.segment=(null==e?void 0:e.value)||"all";const n=yield r.get({key:"disableSleep"});this.settings.disableSleep=Boolean((null==n?void 0:n.value)||!1);const i=yield r.get({key:"favoriteTeam"});this.settings.favoriteTeam=null==i?void 0:i.value}catch(t){console.error("SettingsService.init(): failed to initialize settings.",t),this.settings={segment:"all",favorites:{},disableSleep:!1,favoriteTeam:void 0}}return console.debug("SettingsService.init(): settings=",this.settings),!0}))}assertSettings(){this.settings||(this.settings={}),this.settings.favorites||(this.settings.favorites={}),this.settings.segment||(this.settings.segment="all"),void 0===this.settings.disableSleep&&(this.settings.disableSleep=!1)}isFavorite(t){return this.assertSettings(),Boolean(this.settings.favorites[t])}setFavorite(t,e){return Object(i.a)(this,void 0,void 0,(function*(){return this.assertSettings(),this.settings.favorites[t]=e,r.set({key:"favorites",value:JSON.stringify(this.settings.favorites)}).then(()=>(console.debug(`set favorite: ${t} = ${e}`),e))}))}toggleFavorite(t){return Object(i.a)(this,void 0,void 0,(function*(){return this.assertSettings(),this.setFavorite(t,!this.isFavorite(t))}))}getSegment(){return this.assertSettings(),this.settings.segment}setSegment(t){return Object(i.a)(this,void 0,void 0,(function*(){return this.assertSettings(),this.settings.segment=t,r.set({key:"segment",value:t}).then(()=>(console.debug("set segment: "+t),t))}))}disableSleep(){return this.assertSettings(),this.settings.disableSleep}setDisableSleep(t){return Object(i.a)(this,void 0,void 0,(function*(){return this.assertSettings(),this.settings.disableSleep=t,r.set({key:"disableSleep",value:String(t)}).then(()=>(console.debug("set disableSleep: "+t),t))}))}favoriteTeam(){return this.assertSettings(),this.settings.favoriteTeam}setFavoriteTeam(t){return Object(i.a)(this,void 0,void 0,(function*(){return this.assertSettings(),this.settings.favoriteTeam=t,r.set({key:"favoriteTeam",value:t}).then(()=>(console.debug("set favoriteTeam: "+t),t))}))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"J+wX":function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n("mrSG"),s=n("gcOT"),o=function(t,e,n,i){return new(n||(n=Promise))((function(s,o){function r(t){try{c(i.next(t))}catch(e){o(e)}}function a(t){try{c(i.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}c((i=i.apply(t,e||[])).next())}))};const r=new class extends s.b{constructor(){super({name:"Http",platforms:["web","electron"]})}getRequestHeader(t,e){const n=Object.keys(t);return Object.keys(t).map(t=>t.toLocaleLowerCase()).reduce((e,i,s)=>(e[i]=t[n[s]],e),{})[e.toLocaleLowerCase()]}nativeHeadersToObject(t){const e={};return t.forEach((t,n)=>{e[n]=t}),e}makeFetchOptions(t,e){const n=Object.assign({method:t.method||"GET",headers:t.headers},e||{}),i=this.getRequestHeader(t.headers||{},"content-type")||"";return 0===i.indexOf("application/json")?n.body=JSON.stringify(t.data):0===i.indexOf("application/x-www-form-urlencoded")||i.indexOf("multipart/form-data"),n}request(t){return o(this,void 0,void 0,(function*(){const e=this.makeFetchOptions(t,t.webFetchExtra),n=yield fetch(t.url,e),i=n.headers.get("content-type");let s;return s=i&&0===i.indexOf("application/json")?yield n.json():yield n.text(),{status:n.status,data:s,headers:this.nativeHeadersToObject(n.headers)}}))}setCookie(t){return o(this,void 0,void 0,(function*(){var e="";if(t.ageDays){const n=new Date;n.setTime(n.getTime()+24*t.ageDays*60*60*1e3),e="; expires="+n.toUTCString()}document.cookie=t.key+"="+(t.value||"")+e+"; path=/"}))}getCookies(t){return o(this,void 0,void 0,(function*(){return document.cookie?{value:document.cookie.split(";").map(t=>{const e=t.split(";").map(t=>t.trim())[0].split("=");return{key:e[0],value:e[1]}})}:{value:[]}}))}deleteCookie(t){return o(this,void 0,void 0,(function*(){document.cookie=t.key+"=; Max-Age=0"}))}clearCookies(t){return o(this,void 0,void 0,(function*(){document.cookie.split(";").forEach(t=>document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`))}))}uploadFile(t){return o(this,void 0,void 0,(function*(){const e=this.makeFetchOptions(t,t.webFetchExtra),n=new FormData;return n.append(t.name,t.blob),yield fetch(t.url,Object.assign(Object.assign({},e),{body:n,method:"POST"})),{}}))}downloadFile(t){return o(this,void 0,void 0,(function*(){const e=this.makeFetchOptions(t,t.webFetchExtra),n=yield fetch(t.url,e);return{blob:yield n.blob()}}))}};Object(s.c)(r);var a=n("oVdi"),c=n("Pnkh");class l extends c.a{constructor(t){super(t),this.defineStrings(["id","name","ritual"]),this.defineNumbers(["fate"]),this.defineBooleans(["deceased"])}}var u=n("fXoL");let d=(()=>{class t{constructor(){this.cache={},this.root="https://cors-proxy.blaseball-reference.com/database",s.a.Device.getInfo().then(t=>{"web"!==t.platform&&(this.root="https://www.blaseball.com/database")})}get(t,e){return Object(i.a)(this,void 0,void 0,(function*(){if(!e&&this.cache[t])return this.cache[t];const{Http:n}=s.a,o=yield n.request({method:"GET",url:t}).catch(e=>(console.error("request failed, trying again in 1s:",e),new Promise((s,o)=>{setTimeout(()=>Object(i.a)(this,void 0,void 0,(function*(){try{const e=yield n.request({method:"GET",url:t});s(e)}catch(e){o(e)}})),1e3)})));return console.log("ret=",o),this.cache[t]=o.data,o.data}))}teams(t){return Object(i.a)(this,void 0,void 0,(function*(){const e=this.root+"/allTeams";console.debug("APIDatabase.teams(): GET "+e);try{const n=yield this.get(e,t);if(n)return n.map(t=>new a.a(t))}catch(n){console.error("APIDatabase.teams(): failed to get list of teams",n)}return[]}))}players(...t){return Object(i.a)(this,void 0,void 0,(function*(){let e=!1;if("boolean"==typeof t[t.length-1]&&(e=t.pop()),0===t.length)return[];const n=`${this.root}/players?ids=${t.join(",")}`;console.debug("APIDatabase.players(): GET "+n);try{const t=yield this.get(n,e);if(t)return t.map(t=>new l(t))}catch(i){console.error("APIDatabase.players(): failed to get players",i)}return[]}))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=u.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},NqGI:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));const i=async(t,e,n,i,s)=>{if(t)return t.attachViewToDom(e,n,s,i);if("string"!=typeof n&&!(n instanceof HTMLElement))throw new Error("framework delegate is missing");const o="string"==typeof n?e.ownerDocument&&e.ownerDocument.createElement(n):n;return i&&i.forEach(t=>o.classList.add(t)),s&&Object.assign(o,s),e.appendChild(o),o.componentOnReady&&await o.componentOnReady(),o},s=(t,e)=>{if(e){if(t)return t.removeViewFromDom(e.parentElement,e);e.remove()}return Promise.resolve()}},Pnkh:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));class i{constructor(t){this.data=t,void 0===this.data&&(this.data={})}incremented(t){let e=this.data&&this.data[t];return void 0===e&&(e=-1),e+1}defineStrings(t){for(const e of t)Object.defineProperty(this,e,{get:()=>this.data[e]})}defineNumbers(t){for(const e of t)Object.defineProperty(this,e,{get:()=>this.data[e]})}defineIncrementedNumbers(t){for(const e of t)Object.defineProperty(this,e,{get:()=>this.incremented(e)})}defineBooleans(t){for(const e of t)Object.defineProperty(this,e,{get:()=>Boolean(this.data[e])})}}},"U/uv":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("sxy2"),s=n("ItpF"),o=n("2c9M");const r=(t,e)=>{let n,r;const a=(t,i,s)=>{if("undefined"==typeof document)return;const o=document.elementFromPoint(t,i);o&&e(o)?o!==n&&(l(),c(o,s)):l()},c=(t,e)=>{n=t,r||(r=n);const s=n;Object(i.g)(()=>s.classList.add("ion-activated")),e()},l=(t=!1)=>{if(!n)return;const e=n;Object(i.g)(()=>e.classList.remove("ion-activated")),t&&r!==n&&n.click(),n=void 0};return Object(s.createGesture)({el:t,gestureName:"buttonActiveDrag",threshold:0,onStart:t=>a(t.currentX,t.currentY,o.a),onMove:t=>a(t.currentX,t.currentY,o.b),onEnd:()=>{l(!0),Object(o.e)(),r=void 0}})}},oVdi:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("Pnkh");class s extends i.a{constructor(t){super(t),this.defineStrings(["id","emoji","fullName","location","mainColor","nickname","secondaryColor","shorthand","slogan"]),this.defineNumbers(["championships","seasonShames","seasonShamings","shameRuns","totalShames","totalShamings"])}get bench(){return this.data.bench||[]}get bullpen(){return this.data.bullpen||[]}get lineup(){return this.data.lineup||[]}get rotation(){return this.data.rotation||[]}}},sPtc:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return a}));const i=(t,e)=>null!==e.closest(t),s=(t,e)=>"string"==typeof t&&t.length>0?Object.assign({"ion-color":!0,["ion-color-"+t]:!0},e):e,o=t=>{const e={};return(t=>void 0!==t?(Array.isArray(t)?t:t.split(" ")).filter(t=>null!=t).map(t=>t.trim()).filter(t=>""!==t):[])(t).forEach(t=>e[t]=!0),e},r=/^[a-z][a-z0-9+\-.]*:/,a=async(t,e,n,i)=>{if(null!=t&&"#"!==t[0]&&!r.test(t)){const s=document.querySelector("ion-router");if(s)return null!=e&&e.preventDefault(),s.push(t,n,i)}return!1}}}]);