{"version":3,"sources":["webpack:///src/app/matchups/matchups.page.html","webpack:///src/app/matchups/matchups-routing.module.ts","webpack:///src/app/matchups/matchups.page.ts","webpack:///src/app/matchups/matchups.module.ts"],"names":["routes","path","component","MatchupsPage","database","modalController","platform","stream","loading","teams","this","ready","subscribe","evt","streamData","postprocess","id","console","debug","modal","create","componentProps","present","matchup","type","team","mainColor","contrastingMainColor","even","odd","rows","Math","floor","games","postseason","matchups","length","i","push","evenMatchups","oddMatchups","leagues","item","MatchupsPageRoutingModule","forChild","MatchupsPageModule"],"mappings":"qSAMM,qBACE,sBACF,Q,yBAMJ,uBACE,aAAI,QAA6C,OACnD,Q,qBADM,2D,yBAMA,sBACE,8BACE,sBACE,kBACE,qBACE,iBACE,QACF,OACF,OACA,qBACE,iBACE,kBAAoB,SAAiC,OACrD,mBAAmB,SAAoC,OACzD,OACF,OACA,sBACE,kBACE,SACF,OACF,OACF,OACA,mBACE,sBACE,kBACE,SACF,OACF,OACA,sBACE,kBACE,mBAAoB,SAAiC,OACrD,mBAAmB,SAAoC,OACzD,OACF,OACA,sBACE,kBACE,SACF,OACF,OACF,OACF,OACF,OACF,Q,mCApC4B,mCAChB,iCAIgB,mCACI,wCACD,2CAIH,mCAChB,iCAMgB,mCAChB,iCAIgB,mCACI,wCACD,2CAIH,mCAChB,kC,yBASZ,sBACE,8BACE,sBACE,kBACE,qBACE,iBACE,QACF,OACF,OACA,qBACE,iBACE,kBAAoB,SAAiC,OACrD,mBAAmB,SAAoC,OACzD,OACF,OACA,sBACE,kBACE,SACF,OACF,OACF,OACA,mBACE,sBACE,kBACE,SACF,OACF,OACA,sBACE,kBACE,mBAAoB,SAAiC,OACrD,mBAAmB,SAAoC,OACzD,OACF,OACA,sBACE,kBACE,SACF,OACF,OACF,OACF,OACF,OACF,Q,mCApC4B,mCAChB,iCAIgB,mCACI,wCACD,2CAIH,mCAChB,iCAMgB,mCAChB,iCAIgB,mCACI,wCACD,2CAIH,mCAChB,kC,yBAvFpB,wBACE,6BAIA,mBACE,kBACE,oBACE,6BA0CF,OACA,oBACE,6BA0CF,OACF,OACF,OA+BF,Q,oBA9HqD,iEAOf,sCAAgB,qBA4ChB,uCAAiB,sBC7DvD,MAAMA,EAAiB,CACrB,CACEC,KAAM,GACNC,UCQG,M,MAAMC,EAOX,YACUC,EACAC,EACAC,EACAC,GAHA,KAAAH,WACA,KAAAC,kBACA,KAAAC,WACA,KAAAC,SAVV,KAAAC,SAAU,EAIV,KAAAC,MAAQ,GAUF,W,wDACEC,KAAKJ,SAASK,QACpBD,KAAKH,OAAOK,UAAiBC,GAA0B,YAAD,+BAChDA,aAAe,MACjBH,KAAKI,WAAaD,GAEpBH,KAAKK,mBAIH,SAASC,G,kDACbC,QAAQC,MAAM,iBAAiBF,GAC/B,MAAMG,QAAcT,KAAKL,gBAAgBe,OAAO,CAC9ClB,UAAW,IACXmB,eAAgB,CACdL,QAGJ,aAAaG,EAAMG,YAGrB,SAASC,EAAkBC,GACzB,MACMC,EAAOf,KAAKD,MADFc,EAAWC,EAAH,SAIxB,MAAO,qBAFYC,EAAKC,qBACLD,EAAKE,wBAIpB,c,kDACJ,MAAMC,EAAO,GACPC,EAAM,GAENC,EAAOC,KAAKC,MAAMtB,KAAKI,WAAWmB,MAAMC,WAAWC,SAASC,OAAS,GAC3E,IAAK,IAAIC,EAAE,EAAGA,EAAI3B,KAAKI,WAAWmB,MAAMC,WAAWC,SAASC,OAAQC,IAC9DA,EAAIP,EACND,EAAIS,KAAK5B,KAAKI,WAAWmB,MAAMC,WAAWC,SAASE,IAEnDT,EAAKU,KAAK5B,KAAKI,WAAWmB,MAAMC,WAAWC,SAASE,IAGxD3B,KAAK6B,aAAeX,EACpBlB,KAAK8B,YAAcX,EAEnB,IAAK,MAAMJ,KAAQf,KAAKI,WAAW2B,QAAQhC,MACzCC,KAAKD,MAAMgB,EAAKT,IAAMS,EASxBf,KAAKF,SAAU,IAGjB,GAAGkC,GACD,OAAIA,GAAQA,EAAK1B,GACR0B,EAAK1B,GAEP0B,G,6CA5EEvC,GAAY,0C,uBAAZA,EAAY,62BFfzB,uBACE,wBACE,oBACE,qBACF,OACA,wBACE,6BAGF,OACF,OACF,OAEA,+B,MAbY,uBAMO,+BAOgC,gD,oeEE5C,KDAA,Y,MAAMwC,G,8BAAAA,I,oDAAAA,IAAyB,SAH3B,CAAC,IAAaC,SAAS5C,IACtB,O,GAEL,G,gBEIA,Y,MAAM6C,G,8BAAAA,I,oDAAAA,IAAkB,SATpB,CACP,IACA,IACA,IACA,IACA,M,GAIG","file":"x","sourcesContent":["<ion-header [translucent]=\"true\">\n  <ion-toolbar color=\"primary\">\n    <ion-title>\n      Matchups\n    </ion-title>\n    <ion-buttons slot=\"secondary\">\n      <ion-button *ngIf=\"loading\">\n        <ion-spinner></ion-spinner>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-no-margin ion-no-padding\" *ngIf=\"!loading && streamData\">\n  <ion-header class=\"ion-no-border ion-text-center\" *ngIf=\"streamData.games.postseason.playoffs.name\">\n    <h4>{{streamData.games.postseason.playoffs.name}}</h4>\n  </ion-header>\n\n  <ion-grid>\n    <ion-row>\n      <ion-col size=\"12\" size-sm=\"12\" size-md=\"6\" size-lg=\"6\" size-xl=\"6\" class=\"ion-no-padding ion-no-margin\">\n        <ion-card *ngFor=\"let matchup of oddMatchups; trackBy: id\" class=\"ion-margin-vertical\">\n          <ion-card-content class=\"ion-no-padding ion-no-margin\">\n            <ion-grid class=\"ion-no-padding ion-no-margin\">\n              <ion-row>\n                <ion-col size=\"2\" class=\"ion-text-end ion-align-items-center ion-no-margin ion-no-padding\">\n                  <div class=\"seed\" [style]=\"getStyle(matchup, 'home')\">\n                    {{matchup.homeSeed}}\n                  </div>\n                </ion-col>\n                <ion-col class=\"ion-text-start ion-align-items-center ion-no-margin ion-no-padding\">\n                  <div class=\"team\" [style]=\"getStyle(matchup, 'home')\">\n                    <span class=\"emoji\">{{teams[matchup.homeTeam].emoji}}</span>\n                    <span class=\"name\">{{teams[matchup.homeTeam].fullName}}</span>\n                  </div>\n                </ion-col>\n                <ion-col size=\"1\" class=\"ion-text-start ion-align-items-center ion-no-margin ion-no-padding\">\n                  <div class=\"wins\" [style]=\"getStyle(matchup, 'home')\">\n                    {{matchup.homeWins}}\n                  </div>\n                </ion-col>\n              </ion-row>\n              <ion-row>\n                <ion-col size=\"2\" class=\"ion-text-end ion-align-items-center ion-no-margin ion-no-padding\">\n                  <div class=\"seed\" [style]=\"getStyle(matchup, 'away')\">\n                    {{matchup.awaySeed}}\n                  </div>\n                </ion-col>\n                <ion-col class=\"ion-text-start ion-align-items-center ion-no-margin ion-no-padding\">\n                  <div class=\"team\" [style]=\"getStyle(matchup, 'away')\">\n                    <span class=\"emoji\">{{teams[matchup.awayTeam].emoji}}</span>\n                    <span class=\"name\">{{teams[matchup.awayTeam].fullName}}</span>\n                  </div>\n                </ion-col>\n                <ion-col size=\"1\" class=\"ion-text-start ion-align-items-center ion-no-margin ion-no-padding\">\n                  <div class=\"wins\" [style]=\"getStyle(matchup, 'away')\">\n                    {{matchup.awayWins}}\n                  </div>\n                </ion-col>\n              </ion-row>\n            </ion-grid>\n          </ion-card-content>\n        </ion-card>\n      </ion-col>\n      <ion-col size=\"12\" size-sm=\"12\" size-md=\"6\" size-lg=\"6\" size-xl=\"6\" class=\"ion-no-padding ion-no-margin\">\n        <ion-card *ngFor=\"let matchup of evenMatchups; trackBy: id\" class=\"ion-margin-vertical\">\n          <ion-card-content class=\"ion-no-padding ion-no-margin\">\n            <ion-grid class=\"ion-no-padding ion-no-margin\">\n              <ion-row>\n                <ion-col size=\"2\" class=\"ion-text-end ion-align-items-center ion-no-margin ion-no-padding\">\n                  <div class=\"seed\" [style]=\"getStyle(matchup, 'home')\">\n                    {{matchup.homeSeed}}\n                  </div>\n                </ion-col>\n                <ion-col class=\"ion-text-start ion-align-items-center ion-no-margin ion-no-padding\">\n                  <div class=\"team\" [style]=\"getStyle(matchup, 'home')\">\n                    <span class=\"emoji\">{{teams[matchup.homeTeam].emoji}}</span>\n                    <span class=\"name\">{{teams[matchup.homeTeam].fullName}}</span>\n                  </div>\n                </ion-col>\n                <ion-col size=\"1\" class=\"ion-text-start ion-align-items-center ion-no-margin ion-no-padding\">\n                  <div class=\"wins\" [style]=\"getStyle(matchup, 'home')\">\n                    {{matchup.homeWins}}\n                  </div>\n                </ion-col>\n              </ion-row>\n              <ion-row>\n                <ion-col size=\"2\" class=\"ion-text-end ion-align-items-center ion-no-margin ion-no-padding\">\n                  <div class=\"seed\" [style]=\"getStyle(matchup, 'away')\">\n                    {{matchup.awaySeed}}\n                  </div>\n                </ion-col>\n                <ion-col class=\"ion-text-start ion-align-items-center ion-no-margin ion-no-padding\">\n                  <div class=\"team\" [style]=\"getStyle(matchup, 'away')\">\n                    <span class=\"emoji\">{{teams[matchup.awayTeam].emoji}}</span>\n                    <span class=\"name\">{{teams[matchup.awayTeam].fullName}}</span>\n                  </div>\n                </ion-col>\n                <ion-col size=\"1\" class=\"ion-text-start ion-align-items-center ion-no-margin ion-no-padding\">\n                  <div class=\"wins\" [style]=\"getStyle(matchup, 'away')\">\n                    {{matchup.awayWins}}\n                  </div>\n                </ion-col>\n              </ion-row>\n            </ion-grid>\n          </ion-card-content>\n        </ion-card>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n  <!--\n  <ion-grid>\n    <ion-row>\n      <ion-col *ngFor=\"let subleague of data.subleagues; trackBy: id\">\n        <ion-header class=\"ion-no-border ion-text-center\">\n          <h4>{{subleague.name}}</h4>\n        </ion-header>\n        <ion-card class=\"ion-no-padding ion-no-margin ion-margin-vertical\" *ngFor=\"let division of subleague.divisions; trackBy: id\">\n          <ion-card-header>\n            <ion-card-subtitle>{{division.name}}</ion-card-subtitle>\n          </ion-card-header>\n          <ion-card-content class=\"ion-no-padding\">\n            <ion-item\n              lines=\"none\"\n              class=\"team-row\"\n              [style]=\"'--background: ' + team.mainColor + '; --color: ' + team.mainTextColor\"\n              *ngFor=\"let team of division.teams; trackBy: id\"\n              (click)=\"openTeam(team.id)\"\n            >\n              <ion-label class=\"team-name\">{{team.name}}</ion-label>\n              <ion-note class=\"team-wins\" slot=\"end\" [style]=\"'--color: ' + team.mainTextColor\">\n                {{team.wins}}-{{team.losses}}\n            </ion-note>\n            </ion-item>\n          </ion-card-content>\n        </ion-card>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n  -->\n</ion-content>\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { MatchupsPage as MatchupsPage } from './matchups.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MatchupsPage,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class MatchupsPageRoutingModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ModalController, Platform } from '@ionic/angular';\n\nimport { APIStream } from 'src/lib/api/stream';\nimport { StreamData } from 'src/lib/model/streamData';\nimport { Team } from 'src/lib/model/team';\nimport { APIDatabase } from 'src/lib/api/database';\nimport { TeamPage } from '../team-page/team-page.page';\nimport { Matchup } from 'src/lib/model/matchup';\n\n@Component({\n  selector: 'app-matchups',\n  templateUrl: 'matchups.page.html',\n  styleUrls: ['matchups.page.scss']\n})\nexport class MatchupsPage implements OnInit {\n  loading = true;\n  streamData: StreamData;\n  evenMatchups: Matchup[];\n  oddMatchups: Matchup[];\n  teams = {} as { [key: string]: Team };\n\n  constructor(\n    private database: APIDatabase,\n    private modalController: ModalController,\n    private platform: Platform,\n    private stream: APIStream,\n  ) {\n  }\n\n  async ngOnInit(): Promise<void> {\n    await this.platform.ready();\n    this.stream.subscribe(async (evt: StreamData|Event) => {\n      if (evt instanceof StreamData) {\n        this.streamData = evt;\n      }\n      this.postprocess();\n    });\n  }\n\n  async openTeam(id: string) {\n    console.debug(`opening team: ${id}`);\n    const modal = await this.modalController.create({\n      component: TeamPage,\n      componentProps: {\n        id,\n      },\n    });\n    return await modal.present();\n  }\n\n  getStyle(matchup: Matchup, type: string) {\n    const teamId  = matchup[`${type}Team`];\n    const team = this.teams[teamId];\n    const background = team.mainColor;\n    const foreground = team.contrastingMainColor;\n    return `background-color: ${background}; color: ${foreground};`;\n  }\n\n  async postprocess() {\n    const even = [];\n    const odd = [];\n\n    const rows = Math.floor(this.streamData.games.postseason.matchups.length / 2);\n    for (let i=0; i < this.streamData.games.postseason.matchups.length; i++) {\n      if (i < rows) {\n        odd.push(this.streamData.games.postseason.matchups[i]);\n      } else {\n        even.push(this.streamData.games.postseason.matchups[i]);\n      }\n    }\n    this.evenMatchups = even;\n    this.oddMatchups = odd;\n\n    for (const team of this.streamData.leagues.teams) {\n      this.teams[team.id] = team;\n    }\n\n    /*\n    console.debug('MatchupsPage.postprocess(): even=', this.evenMatchups);\n    console.debug('MatchupsPage.postprocess(): odd=', this.oddMatchups);\n    console.debug('MatchupsPage.postprocess(): teams=', this.teams);\n    */\n\n    this.loading = false;\n  }\n\n  id(item: any) {\n    if (item && item.id) {\n      return item.id;\n    }\n    return item;\n  }\n}\n","import { IonicModule } from '@ionic/angular';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { MatchupsPage as MatchupsPage } from './matchups.page';\n\nimport { MatchupsPageRoutingModule } from './matchups-routing.module';\nimport { TeamComponentModule } from '../team/team.module';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    TeamComponentModule,\n    MatchupsPageRoutingModule\n  ],\n  declarations: [MatchupsPage]\n})\nexport class MatchupsPageModule {}\n"]}