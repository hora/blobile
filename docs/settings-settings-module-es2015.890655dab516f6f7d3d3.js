(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"7wo0":function(e,n,t){"use strict";t.r(n),t.d(n,"SettingsPageModule",function(){return Q});var o=t("ofXK"),i=t("3Pt+"),c=t("TEn/"),a=t("tyNb"),r=t("mrSG"),s=t("gcOT"),l=t("NldC"),b=t("fXoL"),u=t("J+wX"),d=t("EPm9"),g=t("BTjV"),h=t("tRi0"),f=t("CuFv");function v(e,n){1&e&&(b.Pb(0,"ion-button"),b.Nb(1,"ion-spinner"),b.Ob())}function m(e,n){if(1&e){const e=b.Qb();b.Pb(0,"ion-toggle",13),b.Xb("ionChange",function(){return b.hc(e),b.bc(2).setBetaEnabled()})("ngModelChange",function(n){return b.hc(e),b.bc(2).current.betaEnabled=n}),b.Ob()}if(2&e){const e=b.bc(2);b.ec("ngModel",e.current.betaEnabled)}}function p(e,n){if(1&e&&(b.Pb(0,"ion-item"),b.Pb(1,"ion-label",14),b.oc(2),b.Ob(),b.Nb(3,"ion-progress-bar",15),b.Ob()),2&e){const e=b.bc(2);b.Bb(2),b.qc("",e.updateService.phase,":"),b.Bb(1),b.fc("value",e.updateService.percentDone)}}function O(e,n){if(1&e){const e=b.Qb();b.Pb(0,"ion-item",16),b.Pb(1,"ion-label",6),b.oc(2,"A content update is available."),b.Ob(),b.Pb(3,"ion-button",17),b.Xb("click",function(){return b.hc(e),b.bc(2).updateService.reload()}),b.oc(4,"Apply"),b.Ob(),b.Ob()}}function P(e,n){if(1&e){const e=b.Qb();b.Pb(0,"ion-toggle",13),b.Xb("ionChange",function(){return b.hc(e),b.bc(2).setBoolean("disableSleep")})("ngModelChange",function(n){return b.hc(e),b.bc(2).current.disableSleep=n}),b.Ob()}if(2&e){const e=b.bc(2);b.ec("ngModel",e.current.disableSleep)}}function C(e,n){if(1&e&&(b.Pb(0,"span"),b.Pb(1,"ion-list-header",5),b.Pb(2,"h3"),b.oc(3,"Automatic Updates"),b.Ob(),b.Ob(),b.Pb(4,"ion-item"),b.Pb(5,"ion-label",6),b.oc(6,"Receive content updates early?"),b.Ob(),b.nc(7,m,1,1,"ion-toggle",7),b.Ob(),b.nc(8,p,4,2,"ion-item",3),b.nc(9,O,5,0,"ion-item",12),b.Pb(10,"ion-list-header",5),b.Pb(11,"h3"),b.oc(12,"Disable Sleep"),b.Ob(),b.Ob(),b.Pb(13,"ion-item"),b.Pb(14,"ion-label",6),b.oc(15,"Disable sleep while games are active?"),b.Ob(),b.nc(16,P,1,1,"ion-toggle",7),b.Ob(),b.Ob()),2&e){const e=b.bc();b.Bb(7),b.ec("ngIf",e.current),b.Bb(1),b.ec("ngIf",e.updateService.updateAvailable&&!e.updateService.updateReady&&e.updateService.percentDone),b.Bb(1),b.ec("ngIf",e.updateService.updateReady),b.Bb(7),b.ec("ngIf",e.current)}}function y(e,n){if(1&e){const e=b.Qb();b.Pb(0,"ion-toggle",13),b.Xb("ionChange",function(){return b.hc(e),b.bc().setBoolean("reduceMotion")})("ngModelChange",function(n){return b.hc(e),b.bc().current.reduceMotion=n}),b.Ob()}if(2&e){const e=b.bc();b.ec("ngModel",e.current.reduceMotion)}}function M(e,n){if(1&e){const e=b.Qb();b.Pb(0,"ion-toggle",13),b.Xb("ionChange",function(){b.hc(e);const n=b.bc();return n.settings.setDarkMode(n.current.darkMode)})("ngModelChange",function(n){return b.hc(e),b.bc().current.darkMode=n}),b.Ob()}if(2&e){const e=b.bc();b.ec("ngModel",e.current.darkMode)}}function S(e,n){if(1&e){const e=b.Qb();b.Pb(0,"ion-toggle",13),b.Xb("ionChange",function(){return b.hc(e),b.bc().setBoolean("audio")})("ngModelChange",function(n){return b.hc(e),b.bc().current.audio=n}),b.Ob()}if(2&e){const e=b.bc();b.ec("ngModel",e.current.audio)}}function B(e,n){if(1&e){const e=b.Qb();b.Pb(0,"ion-range",18),b.Xb("ionChange",function(n){return b.hc(e),b.bc().setVolume(n)})("ngModelChange",function(n){return b.hc(e),b.bc().volume=n}),b.Ob()}if(2&e){const e=b.bc();b.ec("ngModel",e.volume)}}function I(e,n){if(1&e){const e=b.Qb();b.Pb(0,"ion-toggle",13),b.Xb("ionChange",function(){return b.hc(e),b.bc(2).setBoolean("speech")})("ngModelChange",function(n){return b.hc(e),b.bc(2).current.speech=n}),b.Ob()}if(2&e){const e=b.bc(2);b.ec("ngModel",e.current.speech)}}function w(e,n){if(1&e&&(b.Pb(0,"ion-item"),b.Pb(1,"ion-label",6),b.oc(2,"Enable Speech?"),b.Ob(),b.nc(3,I,1,1,"ion-toggle",7),b.Ob()),2&e){const e=b.bc();b.Bb(3),b.ec("ngIf",e.current)}}function T(e,n){if(1&e&&(b.Pb(0,"ion-select-option",15),b.oc(1),b.Ob()),2&e){const e=n.$implicit;b.ec("value",e.voiceURI),b.Bb(1),b.pc(e.name)}}function k(e,n){if(1&e){const e=b.Qb();b.Pb(0,"ion-select",22),b.Xb("ionChange",function(n){return b.hc(e),b.bc(2).setVoice(n)}),b.nc(1,T,2,2,"ion-select-option",23),b.Ob()}if(2&e){const e=b.bc(2);b.ec("interfaceOptions",e.voiceOptions)("value",e.current.voice),b.Bb(1),b.ec("ngForOf",e.voices)}}function x(e,n){if(1&e){const e=b.Qb();b.Pb(0,"ion-item"),b.Pb(1,"ion-icon",19),b.Xb("click",function(n){return b.hc(e),b.bc().speak(n)}),b.Ob(),b.Pb(2,"ion-label",20),b.oc(3,"Voice:"),b.Ob(),b.nc(4,k,2,3,"ion-select",21),b.Ob()}if(2&e){const e=b.bc();b.Bb(4),b.ec("ngIf",e.current&&e.voice)}}function E(e,n){if(1&e&&(b.Pb(0,"ion-select-option",15),b.oc(1),b.Ob()),2&e){const e=n.$implicit;b.ec("value",e.id),b.Bb(1),b.pc(e.fullName)}}function j(e,n){if(1&e){const e=b.Qb();b.Pb(0,"ion-select",24),b.Xb("ionChange",function(n){return b.hc(e),b.bc().setString("favoriteTeam",n)})("ngModelChange",function(n){return b.hc(e),b.bc().current.favoriteTeam=n}),b.nc(1,E,2,2,"ion-select-option",25),b.Ob()}if(2&e){const e=b.bc();b.ec("interfaceOptions",e.teamOptions)("ngModel",e.current.favoriteTeam),b.Bb(1),b.ec("ngForOf",e.teams)("ngForTrackBy",e.id)}}const{Device:V}=s.a,X=[{path:"",component:(()=>{class e{constructor(e,n,t,o,i,c){this.database=e,this.deploy=n,this.platform=t,this.settings=o,this.updateService=i,this.voiceService=c,this.loading=!0,this.betaEnabled=!1,this.devicePlatform="web",this.hasSpeech=!1,this.teamOptions={header:"Choose Your Team"},this.voiceOptions={header:"Choose a Voice"},this.id=l.a.trackById,this.hasSpeech=void 0!==window.speechSynthesis}ngOnInit(){return Object(r.a)(this,void 0,void 0,function*(){yield this.platform.ready(),console.debug("SettingsPage.ngOnInit()");try{const e=yield V.getInfo();this.devicePlatform=e.platform,console.debug(`SettingsPage.ngOnInit(): platform=${this.devicePlatform}`)}catch(e){console.error("SettingsPage.ngOnInit(): failed to get device info:",e)}if("web"!==this.devicePlatform)try{const e=yield this.deploy.getConfiguration();this.betaEnabled="beta"===e.channel.toLowerCase(),console.debug(`SettingsPage.ngOnInit(): betaEnabled=${this.betaEnabled}`)}catch(e){console.error("SettingsPage.ngOnInit(): failed to get deploy configuration:",e)}this.current=yield this.settings.getAll(),this.volume=Math.round(1e3*this.current.volume),this.teams=(yield this.database.teams()).sort((e,n)=>e.fullName<n.fullName?-1:e.fullName>n.fullName?1:0),this.voices=this.voiceService.voices(),this.voice=yield this.voiceService.voice(this.current.voice),this.loading=!1,console.debug("SettingsPage.onInit(): current settings=",this.current)})}setBetaEnabled(){return Object(r.a)(this,void 0,void 0,function*(){return yield this.settings.setBetaEnabled(this.current.betaEnabled)})}getTeamName(e){const n=this.teams.find(n=>n.id===e);return n?n.fullName:""}setBoolean(e){return Object(r.a)(this,void 0,void 0,function*(){return yield this.settings.setBoolean(e,this.current[e])})}setString(e,n){return Object(r.a)(this,void 0,void 0,function*(){return console.debug("setString: key=",e),console.debug("setString: ev=",n),yield this.settings.setString(e,this.current[e])})}setVolume(e){return Object(r.a)(this,void 0,void 0,function*(){return yield this.settings.setNumber("volume",e.detail.value/1e3)})}setVoice(e){var n,t;return Object(r.a)(this,void 0,void 0,function*(){(yield this.voiceService.voice(null===(n=null==e?void 0:e.detail)||void 0===n?void 0:n.value))?(yield this.settings.setVoice(e.detail.value),this.speak()):console.error(`Unable to locate voice: ${null===(t=null==e?void 0:e.detail)||void 0===t?void 0:t.value}`)})}speak(e){return Object(r.a)(this,void 0,void 0,function*(){return null==e||e.preventDefault(),null==e||e.stopPropagation(),this.voiceService.say("The commissioner is doing a great job!",{force:!0})})}setFavoriteTeam(e){return Object(r.a)(this,void 0,void 0,function*(){const n=this.teams.find(n=>n.id===e.value);this.settings.setFavoriteTeam(null==n?void 0:n.id)})}}return e.\u0275fac=function(n){return new(n||e)(b.Mb(u.a),b.Mb(d.a),b.Mb(c.U),b.Mb(g.a),b.Mb(h.a),b.Mb(f.a))},e.\u0275cmp=b.Gb({type:e,selectors:[["app-settings"]],decls:44,vars:10,consts:[[3,"translucent"],["color","primary"],["slot","secondary"],[4,"ngIf"],["lines","none",1,"ion-text-wrap"],["lines","full"],[1,"ion-text-wrap"],["slot","end",3,"ngModel","ionChange","ngModelChange",4,"ngIf"],["aria-label","Volume","min","0","max","1000","debounce","200","slot","end",3,"ngModel","ionChange","ngModelChange",4,"ngIf"],["id","bl-team-selector"],["for","choose-your-team"],["id","choose-your-team","aria-label","Choose Your Team","class","ion-text-wrap","interface","action-sheet","okText","Choose","cancelText","Cancel",3,"interfaceOptions","ngModel","ionChange","ngModelChange",4,"ngIf"],["color","danger",4,"ngIf"],["slot","end",3,"ngModel","ionChange","ngModelChange"],["slot","start"],[3,"value"],["color","danger"],["slot","end","color","light",3,"click"],["aria-label","Volume","min","0","max","1000","debounce","200","slot","end",3,"ngModel","ionChange","ngModelChange"],["name","volume-high-outline","slot","start",1,"ion-no-margin",2,"margin-right","0.5em",3,"click"],["for","select-voice",1,"ion-text-wrap"],["id","select-voice","aria-label","Select a Voice","class","ion-text-wrap","interface","action-sheet","okText","Choose","cancelText","Cancel",3,"interfaceOptions","value","ionChange",4,"ngIf"],["id","select-voice","aria-label","Select a Voice","interface","action-sheet","okText","Choose","cancelText","Cancel",1,"ion-text-wrap",3,"interfaceOptions","value","ionChange"],[3,"value",4,"ngFor","ngForOf"],["id","choose-your-team","aria-label","Choose Your Team","interface","action-sheet","okText","Choose","cancelText","Cancel",1,"ion-text-wrap",3,"interfaceOptions","ngModel","ionChange","ngModelChange"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"]],template:function(e,n){1&e&&(b.Pb(0,"ion-header",0),b.Pb(1,"ion-toolbar",1),b.Pb(2,"ion-title"),b.oc(3,"Slettings"),b.Ob(),b.Pb(4,"ion-buttons",2),b.nc(5,v,2,0,"ion-button",3),b.Ob(),b.Ob(),b.Ob(),b.Pb(6,"ion-content"),b.Pb(7,"ion-list",4),b.nc(8,C,17,4,"span",3),b.Pb(9,"ion-list-header",5),b.Pb(10,"h3"),b.oc(11,"Interface"),b.Ob(),b.Ob(),b.Pb(12,"ion-item"),b.Pb(13,"ion-label",6),b.oc(14,"Reduce motion in effects?"),b.Ob(),b.nc(15,y,1,1,"ion-toggle",7),b.Ob(),b.Pb(16,"ion-item"),b.Pb(17,"ion-label",6),b.oc(18,"Always use dark mode?"),b.Ob(),b.nc(19,M,1,1,"ion-toggle",7),b.Ob(),b.Pb(20,"ion-list-header",5),b.Pb(21,"h3"),b.oc(22,"Audio"),b.Ob(),b.Ob(),b.Pb(23,"ion-item"),b.Pb(24,"ion-label",6),b.oc(25,"Enable Sound Effects?"),b.Ob(),b.nc(26,S,1,1,"ion-toggle",7),b.Ob(),b.Pb(27,"ion-item"),b.Pb(28,"ion-label",6),b.oc(29,"Volume:"),b.Ob(),b.nc(30,B,1,1,"ion-range",8),b.Ob(),b.nc(31,w,4,1,"ion-item",3),b.nc(32,x,5,1,"ion-item",3),b.Pb(33,"ion-list-header",5),b.Pb(34,"h3"),b.oc(35,"Teams"),b.Ob(),b.Ob(),b.Pb(36,"ion-item",9),b.Pb(37,"ion-label",6),b.Pb(38,"ion-label",10),b.Pb(39,"h4"),b.oc(40,"Choose Your Team:"),b.Ob(),b.Ob(),b.Pb(41,"ion-note"),b.oc(42,"Your team is always first in the live feed."),b.Ob(),b.Ob(),b.nc(43,j,2,4,"ion-select",11),b.Ob(),b.Ob(),b.Ob()),2&e&&(b.ec("translucent",!0),b.Bb(5),b.ec("ngIf",n.loading),b.Bb(3),b.ec("ngIf","web"!==n.devicePlatform),b.Bb(7),b.ec("ngIf",n.current),b.Bb(4),b.ec("ngIf",n.current),b.Bb(7),b.ec("ngIf",n.current),b.Bb(4),b.ec("ngIf",n.current),b.Bb(1),b.ec("ngIf",n.hasSpeech),b.Bb(1),b.ec("ngIf",n.hasSpeech),b.Bb(11),b.ec("ngIf",n.current&&n.teams))},directives:[c.o,c.P,c.N,c.e,o.i,c.k,c.u,c.v,c.q,c.t,c.w,c.d,c.I,c.O,c.a,i.d,i.e,c.x,c.y,c.V,c.p,c.G,o.h,c.H],styles:[""]}),e})()}];let N=(()=>{class e{}return e.\u0275mod=b.Kb({type:e}),e.\u0275inj=b.Jb({factory:function(n){return new(n||e)},imports:[[a.j.forChild(X)],a.j]}),e})(),Q=(()=>{class e{}return e.\u0275mod=b.Kb({type:e}),e.\u0275inj=b.Jb({factory:function(n){return new(n||e)},imports:[[o.b,i.a,c.Q,N]]}),e})()}}]);
//# sourceMappingURL=settings-settings-module-es2015.890655dab516f6f7d3d3.js.map